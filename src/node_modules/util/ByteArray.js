"use strict"

module.exports = ByteArray;

function ByteArray(chunk){
	this.buffer = chunk;
	this.position = 0;
}

var prototype = ByteArray.prototype;

prototype.length = function(){
	return this.buffer.length;
}

prototype.bytesAvailable = function(){
	var count = this.buffer.length - this.position;
	return count > 0 ? count : 0;
}

prototype.readUTF = function(){
	return this.readUTFBytes(this.readShort());
}

prototype.readUTFBytes = function(count){
	var str = this.buffer.toString("utf8", this.position, this.position+count);
	this.position += count;
	return str;
}

prototype.readShort = function(){
	var val = this.buffer.readUInt16LE(this.position);
	this.position += 2;
	return val;
}